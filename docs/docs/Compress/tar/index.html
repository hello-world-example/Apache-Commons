<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tar | Apache-Commons</title>


<link rel="stylesheet" href="/Apache-Commons/book.min.79de1f7861b0c98f453c0a93bebf3608a280809e417787746c373699639900d7.css">




<link rel="icon" href="/Apache-Commons/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://hello-world-example.github.io/Apache-Commons/">Apache-Commons</a>
</h2>






    
  
  
  

  <style>
  nav ul a[href$="\2f Apache-Commons\2f docs\2f Compress\2ftar\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><a href="/Apache-Commons/docs/Codec/"><strong>Codec</strong></a></li>
<li><a href="/Apache-Commons/docs/Compress/"><strong>Compress</strong></a>

<ul>
<li><a href="/Apache-Commons/docs/Compress/tar/">TarUtil</a></li>
</ul></li>
<li><a href="/Apache-Commons/docs/Configuration/"><strong>Configuration</strong></a>

<ul>
<li><a href="/Apache-Commons/docs/Configuration/Quick-Start-Guide/">快速开始指南</a></li>
<li><a href="/Apache-Commons/docs/Configuration/Properties/">Properties 文件</a></li>
<li><a href="/Apache-Commons/docs/Configuration/Yaml/">Yaml 文件</a></li>
<li><a href="/Apache-Commons/docs/Configuration/Auto-Reload/">自动加载</a></li>
<li><a href="/Apache-Commons/docs/Configuration/Dependencies/">运行时依赖</a></li>
</ul></li>
<li><a href="/Apache-Commons/docs/Ognl/"><strong>Ognl</strong></a></li>
<li><a href="/Apache-Commons/docs/Pool/"><strong>Pool</strong></a>

<ul>
<li><a href="/Apache-Commons/docs/Pool/Simple-Exmaple/">入门示例</a></li>
<li><a href="/Apache-Commons/docs/Pool/GenericObjectPoolConfig/">GenericObjectPoolConfig 配置项</a></li>
</ul></li>
</ul>







</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/Apache-Commons/svg/menu.svg" alt="Menu" />
  </label>
  <strong>Tar</strong>
</header>

      
<article class="markdown">

<h1 id="tar-工具类">tar 工具类</h1>

<p>对应的 Linxu <code>tar</code> 命令：</p>

<ul>
<li><code>tar cf &lt;file.tar&gt; &lt;file&gt;</code> 将由文件 <code>&lt;file&gt;</code> 创建名为<code>&lt;file.tar&gt;</code>归档文件，同时保留原文件

<ul>
<li>如果加上参数 <code>z</code> 则归档之后会进行 gzip 压缩（<code>*.tar.gz</code>）</li>
</ul></li>

<li><p><code>tar xf &lt;file.tar&gt;</code> 将由归档文件<code>&lt;file.tar&gt;</code>创建名为<code>&lt;file&gt;</code>的文件/目录，同时保留原文件</p>

<ul>
<li><p>如果加上参数 <code>z</code> 则解归档之前会进行解压缩（<code>*.tar.gz</code>）</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> <span style="color:#a6e22e">org</span>.<span style="color:#a6e22e">apache</span>.<span style="color:#a6e22e">commons</span>.<span style="color:#a6e22e">compress</span>.<span style="color:#a6e22e">archivers</span>.<span style="color:#a6e22e">tar</span>.<span style="color:#a6e22e">TarArchiveEntry</span>;
<span style="color:#f92672">import</span> <span style="color:#a6e22e">org</span>.<span style="color:#a6e22e">apache</span>.<span style="color:#a6e22e">commons</span>.<span style="color:#a6e22e">compress</span>.<span style="color:#a6e22e">archivers</span>.<span style="color:#a6e22e">tar</span>.<span style="color:#a6e22e">TarArchiveInputStream</span>;
<span style="color:#f92672">import</span> <span style="color:#a6e22e">org</span>.<span style="color:#a6e22e">apache</span>.<span style="color:#a6e22e">commons</span>.<span style="color:#a6e22e">compress</span>.<span style="color:#a6e22e">archivers</span>.<span style="color:#a6e22e">tar</span>.<span style="color:#a6e22e">TarArchiveOutputStream</span>;

<span style="color:#f92672">import</span> <span style="color:#a6e22e">java</span>.<span style="color:#a6e22e">io</span>.<span style="color:#f92672">*</span>;

<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TarUtil</span> {

<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">final</span> <span style="color:#a6e22e">String</span> BASE_DIR <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;

<span style="color:#75715e">// 符号&#34;/&#34;用来作为目录标识判断符  
</span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">final</span> <span style="color:#a6e22e">String</span> PATH_SPLITOR <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/&#34;</span>;
<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">final</span> <span style="color:#a6e22e">int</span> BUFFER <span style="color:#f92672">=</span> 1024;

<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">final</span> <span style="color:#a6e22e">String</span> EXT <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;.tar&#34;</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 归档
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">archive</span>(String <span style="color:#a6e22e">srcPath</span>, String <span style="color:#a6e22e">destPath</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
File <span style="color:#a6e22e">srcFile</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(srcPath);
archive(srcFile, destPath);
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 归档文件
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">archive</span>(File <span style="color:#a6e22e">srcFile</span>, String <span style="color:#a6e22e">destPath</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
archive(srcFile, <span style="color:#66d9ef">new</span> File(destPath));
}


<span style="color:#75715e">/**
</span><span style="color:#75715e">* 归档
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">archive</span>(String <span style="color:#a6e22e">srcPath</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
archive(<span style="color:#66d9ef">new</span> File(srcPath));
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 归档
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">archive</span>(File <span style="color:#a6e22e">srcFile</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
String <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> srcFile.<span style="color:#a6e22e">getName</span>();
String <span style="color:#a6e22e">basePath</span> <span style="color:#f92672">=</span> srcFile.<span style="color:#a6e22e">getParent</span>();
String <span style="color:#a6e22e">destPath</span> <span style="color:#f92672">=</span> basePath <span style="color:#f92672">+</span> File.<span style="color:#a6e22e">separator</span> <span style="color:#f92672">+</span> name <span style="color:#f92672">+</span> EXT;
archive(srcFile, destPath);
}


<span style="color:#75715e">/* ************************************************************************************************************
</span><span style="color:#75715e">* 归档
</span><span style="color:#75715e">* *************************************************************************************************************/</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 归档
</span><span style="color:#75715e">*
</span><span style="color:#75715e">* @param srcFile  源路径
</span><span style="color:#75715e">* @param destFile 目标路径
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">archive</span>(File <span style="color:#a6e22e">srcFile</span>, File <span style="color:#a6e22e">destFile</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
<span style="color:#66d9ef">try</span> (FileOutputStream <span style="color:#a6e22e">fileOutputStream</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileOutputStream(destFile)) {
    <span style="color:#66d9ef">try</span> (TarArchiveOutputStream <span style="color:#a6e22e">taos</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TarArchiveOutputStream(fileOutputStream)) {
        archive(srcFile, taos, BASE_DIR);
    }
}
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 归档
</span><span style="color:#75715e">*
</span><span style="color:#75715e">* @param srcFile  源路径
</span><span style="color:#75715e">* @param taos     TarArchiveOutputStream
</span><span style="color:#75715e">* @param basePath 归档包内相对路径
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">archive</span>(File <span style="color:#a6e22e">srcFile</span>, TarArchiveOutputStream <span style="color:#a6e22e">taos</span>, String <span style="color:#a6e22e">basePath</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
<span style="color:#66d9ef">if</span> (srcFile.<span style="color:#a6e22e">isDirectory</span>()) {
    archiveDir(srcFile, taos, basePath);
} <span style="color:#66d9ef">else</span> {
    archiveFile(srcFile, taos, basePath);
}
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 目录归档
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">archiveDir</span>(File <span style="color:#a6e22e">dir</span>, TarArchiveOutputStream <span style="color:#a6e22e">taos</span>, String <span style="color:#a6e22e">basePath</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {

File[] <span style="color:#a6e22e">files</span> <span style="color:#f92672">=</span> dir.<span style="color:#a6e22e">listFiles</span>();

<span style="color:#66d9ef">if</span> (files.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;</span> 1) {
    TarArchiveEntry <span style="color:#a6e22e">entry</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TarArchiveEntry(basePath <span style="color:#f92672">+</span> dir.<span style="color:#a6e22e">getName</span>() <span style="color:#f92672">+</span> PATH_SPLITOR);

    taos.<span style="color:#a6e22e">putArchiveEntry</span>(entry);
    taos.<span style="color:#a6e22e">closeArchiveEntry</span>();
}

<span style="color:#66d9ef">for</span> (File <span style="color:#a6e22e">file</span> <span style="color:#f92672">:</span> files) {
    <span style="color:#75715e">// 递归归档
</span><span style="color:#75715e"></span>    archive(file, taos, basePath <span style="color:#f92672">+</span> dir.<span style="color:#a6e22e">getName</span>() <span style="color:#f92672">+</span> PATH_SPLITOR);

}
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 数据归档
</span><span style="color:#75715e">*
</span><span style="color:#75715e">* @param data 待归档数据
</span><span style="color:#75715e">* @param path 归档数据的当前路径
</span><span style="color:#75715e">* @param name 归档文件名
</span><span style="color:#75715e">* @param taos TarArchiveOutputStream
</span><span style="color:#75715e">* @throws Exception
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">archiveFile</span>(File <span style="color:#a6e22e">file</span>, TarArchiveOutputStream <span style="color:#a6e22e">taos</span>, String <span style="color:#a6e22e">dir</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 归档内文件名定义 
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * &lt;pre&gt; 
</span><span style="color:#75715e"> * 如果有多级目录，那么这里就需要给出包含目录的文件名 
</span><span style="color:#75715e"> * 如果用WinRAR打开归档包，中文名将显示为乱码 
</span><span style="color:#75715e"> * &lt;/pre&gt; 
</span><span style="color:#75715e"> */</span>
TarArchiveEntry <span style="color:#a6e22e">entry</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TarArchiveEntry(dir <span style="color:#f92672">+</span> file.<span style="color:#a6e22e">getName</span>());

entry.<span style="color:#a6e22e">setSize</span>(file.<span style="color:#a6e22e">length</span>());

taos.<span style="color:#a6e22e">putArchiveEntry</span>(entry);

BufferedInputStream <span style="color:#a6e22e">bis</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedInputStream(<span style="color:#66d9ef">new</span> FileInputStream(
        file));
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">count</span>;
<span style="color:#66d9ef">byte</span> <span style="color:#a6e22e">data</span>[] <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span>[BUFFER];
<span style="color:#66d9ef">while</span> ((count <span style="color:#f92672">=</span> bis.<span style="color:#a6e22e">read</span>(data, 0, BUFFER)) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span>1) {
    taos.<span style="color:#a6e22e">write</span>(data, 0, count);
}

bis.<span style="color:#a6e22e">close</span>();

taos.<span style="color:#a6e22e">closeArchiveEntry</span>();
}

<span style="color:#75715e">/* ************************************************************************************************************
</span><span style="color:#75715e">* 解归档
</span><span style="color:#75715e">* *************************************************************************************************************/</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 文件 解归档
</span><span style="color:#75715e">*
</span><span style="color:#75715e">* @param srcPath 源文件路径
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dearchive</span>(String <span style="color:#a6e22e">srcPath</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
dearchive(<span style="color:#66d9ef">new</span> File(srcPath));
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 解归档
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dearchive</span>(File <span style="color:#a6e22e">srcFile</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
String <span style="color:#a6e22e">basePath</span> <span style="color:#f92672">=</span> srcFile.<span style="color:#a6e22e">getParent</span>();
dearchive(srcFile, basePath);
}


<span style="color:#75715e">/**
</span><span style="color:#75715e">* 文件 解归档
</span><span style="color:#75715e">*
</span><span style="color:#75715e">* @param srcPath  源文件路径
</span><span style="color:#75715e">* @param destPath 目标文件路径
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dearchive</span>(String <span style="color:#a6e22e">srcPath</span>, String <span style="color:#a6e22e">destPath</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
File <span style="color:#a6e22e">srcFile</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(srcPath);
dearchive(srcFile, destPath);
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 解归档
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dearchive</span>(File <span style="color:#a6e22e">srcFile</span>, String <span style="color:#a6e22e">destPath</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {
dearchive(srcFile, <span style="color:#66d9ef">new</span> File(destPath));
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 解归档
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dearchive</span>(File <span style="color:#a6e22e">srcFile</span>, File <span style="color:#a6e22e">destFile</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {

<span style="color:#66d9ef">try</span> (FileInputStream <span style="color:#a6e22e">fileInputStream</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream(srcFile)) {
    <span style="color:#66d9ef">try</span> (TarArchiveInputStream <span style="color:#a6e22e">tais</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TarArchiveInputStream(fileInputStream)) {
        dearchive(destFile, tais);
    }
}

}


<span style="color:#75715e">/**
</span><span style="color:#75715e">* 文件 解归档
</span><span style="color:#75715e">*
</span><span style="color:#75715e">* @param destFile 目标文件
</span><span style="color:#75715e">* @param tais     ZipInputStream
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dearchive</span>(File <span style="color:#a6e22e">destFile</span>, TarArchiveInputStream <span style="color:#a6e22e">tais</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {

TarArchiveEntry <span style="color:#a6e22e">entry</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
<span style="color:#66d9ef">while</span> ((entry <span style="color:#f92672">=</span> tais.<span style="color:#a6e22e">getNextTarEntry</span>()) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {

    <span style="color:#75715e">// 文件  
</span><span style="color:#75715e"></span>    String <span style="color:#a6e22e">dir</span> <span style="color:#f92672">=</span> destFile.<span style="color:#a6e22e">getPath</span>() <span style="color:#f92672">+</span> File.<span style="color:#a6e22e">separator</span> <span style="color:#f92672">+</span> entry.<span style="color:#a6e22e">getName</span>();

    File <span style="color:#a6e22e">dirFile</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(dir);

    <span style="color:#75715e">// 文件检查  
</span><span style="color:#75715e"></span>    fileProber(dirFile);

    <span style="color:#66d9ef">if</span> (entry.<span style="color:#a6e22e">isDirectory</span>()) {
        dirFile.<span style="color:#a6e22e">mkdirs</span>();
    } <span style="color:#66d9ef">else</span> {
        dearchiveFile(dirFile, tais);
    }

}
}


<span style="color:#75715e">/**
</span><span style="color:#75715e">* 文件解归档
</span><span style="color:#75715e">*
</span><span style="color:#75715e">* @param destFile 目标文件
</span><span style="color:#75715e">* @param tais     TarArchiveInputStream
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dearchiveFile</span>(File <span style="color:#a6e22e">destFile</span>, TarArchiveInputStream <span style="color:#a6e22e">tais</span>) <span style="color:#66d9ef">throws</span> <span style="color:#a6e22e">IOException</span> {

BufferedOutputStream <span style="color:#a6e22e">bos</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedOutputStream(<span style="color:#66d9ef">new</span> FileOutputStream(destFile));

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">count</span>;
<span style="color:#66d9ef">byte</span> <span style="color:#a6e22e">data</span>[] <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span>[BUFFER];
<span style="color:#66d9ef">while</span> ((count <span style="color:#f92672">=</span> tais.<span style="color:#a6e22e">read</span>(data, 0, BUFFER)) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span>1) {
    bos.<span style="color:#a6e22e">write</span>(data, 0, count);
}

bos.<span style="color:#a6e22e">close</span>();
}

<span style="color:#75715e">/**
</span><span style="color:#75715e">* 文件探针
</span><span style="color:#75715e">*
</span><span style="color:#75715e">* &lt;pre&gt;
</span><span style="color:#75715e">* 当父目录不存在时，创建目录！
</span><span style="color:#75715e">* &lt;/pre&gt;
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fileProber</span>(File <span style="color:#a6e22e">dirFile</span>) {

File <span style="color:#a6e22e">parentFile</span> <span style="color:#f92672">=</span> dirFile.<span style="color:#a6e22e">getParentFile</span>();
<span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>parentFile.<span style="color:#a6e22e">exists</span>()) {

    <span style="color:#75715e">// 递归寻找上级目录  
</span><span style="color:#75715e"></span>    fileProber(parentFile);

    parentFile.<span style="color:#a6e22e">mkdir</span>();
}

}

}  </code></pre></div></li>
</ul></li>
</ul>

<h2 id="read-more">Read More</h2>

<blockquote>
<ul>
<li><p>代码来自：<a href="https://snowolf.iteye.com/blog/648652">Java压缩技术（七） TAR——Commons实现</a></p></li>

<li><p><a href="https://snowolf.iteye.com/blog/643010">Java压缩技术（四） GZIP——Java原生实现</a></p></li>
</ul>
</blockquote>
</article>

      
<div class="book-footer justify-between">
  
  <div>
    
    <a href="https://github.com/hello-world-example/Apache-Commons/commit/1263b1b2f8da5c4494c7f5c7d9ae95b6b3c1e689" title='Last modified Sep 7, 2019 by kaibin.yang' target="_blank" rel="noopener">
      <img src="/Apache-Commons/svg/calendar.svg" alt="Changed" /> Sep 7, 2019
    </a>
  </div>
  
  
  <div>
    <a href="https://github.com/hello-world-example/Apache-Commons/edit/master/HuGo/content/docs/Compress/tar.md" target="_blank" rel="noopener">
      <img src="/Apache-Commons/svg/edit.svg" alt="Edit" /> Edit this page
    </a>
  </div>
  
</div>


      
    </div>

    
  



  </main>
  
  
  
</body>

</html>
